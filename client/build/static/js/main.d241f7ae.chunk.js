(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(44).concat([function(e,t,n){e.exports=n(124)},,,,,function(e,t,n){},,,function(e,t,n){},,,,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){e.exports=n.p+"static/media/logo.12281ab1.svg"},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,function(e,t,n){},,function(e,t,n){var a={"./circle.svg":97,"./drag.svg":98,"./ellipse.svg":99,"./erase.svg":100,"./line.svg":101,"./pencil.svg":102,"./rect.svg":103,"./text.svg":104,"./zoom.svg":105};function r(e){var t=s(e);return n(t)}function s(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id=96},function(e,t,n){e.exports=n.p+"static/media/circle.ff298578.svg"},function(e,t,n){e.exports=n.p+"static/media/drag.5bd82614.svg"},function(e,t,n){e.exports=n.p+"static/media/ellipse.1281b0d9.svg"},function(e,t,n){e.exports=n.p+"static/media/erase.64789475.svg"},function(e,t,n){e.exports=n.p+"static/media/line.8d9ebd8d.svg"},function(e,t,n){e.exports=n.p+"static/media/pencil.60a47125.svg"},function(e,t,n){e.exports=n.p+"static/media/rect.db5e95b3.svg"},function(e,t,n){e.exports=n.p+"static/media/text.76455579.svg"},function(e,t,n){e.exports=n.p+"static/media/zoom.47520828.svg"},function(e,t,n){},,function(e,t,n){var a={"./camera.svg":109,"./download.svg":110,"./file.svg":111,"./info.svg":112,"./invite.svg":113,"./microphone.svg":114};function r(e){var t=s(e);return n(t)}function s(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id=108},function(e,t,n){e.exports=n.p+"static/media/camera.cd236fa7.svg"},function(e,t,n){e.exports=n.p+"static/media/download.bc784a68.svg"},function(e,t,n){e.exports=n.p+"static/media/file.b96b7948.svg"},function(e,t,n){e.exports=n.p+"static/media/info.e45f19a0.svg"},function(e,t,n){e.exports=n.p+"static/media/invite.194db11e.svg"},function(e,t,n){e.exports=n.p+"static/media/microphone.c347fe87.svg"},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(41),i=n.n(s),o=(n(49),n(7)),l=n(8),u=n(10),c=n(9),d=n(11),h=(n(52),n(128)),p=n(17),v=n.n(p),m=(n(60),function(e){e.socket.on("setBoardList",function(t){var n=t.myBoards;e.addBoard(n)})}),f={prod:"",dev:"http://localhost:8880/"},g=(n(62),function(e){var t=n(64);return r.a.createElement("div",{className:"header"},r.a.createElement("a",{className:"link",id:"dashboardLink",href:e.dashboardUrl},"< Revenir au tableau de bord"),r.a.createElement("div",{className:"headerContainer"},r.a.createElement("img",{src:t,id:"logo",alt:"logo"}),r.a.createElement("h1",{className:"brand"},"COURS MASSON"),r.a.createElement("h2",{className:"title"},"Tableau blanc interactif pour cours particuliers"),r.a.createElement("p",{className:"paragraph"},"Les tableaux blancs interactifs int\xe8grent une fonctionalit\xe9 de visio-conf\xe9rence. Ils sont con\xe7us pour fournir une exp\xe9rience p\xe9dagogique optimal pour donner un cours particulier en ligne."),r.a.createElement("button",{className:"btn ctaBtn",onClick:e.create},"Cr\xe9er un tableau blanc"),r.a.createElement("p",{className:"subtitle"},"Les tableaux blancs ont une dur\xe9e de vie 24 heures")))}),y=n(126),b=(n(65),function(e){var t,n=e.boardList;return n.sort(function(e,t){return e.date>t.date?-1:e.date<t.date?1:e.date===t.date?e.time>=t.time?-1:1:void 0}),t=n!==[]&&n.length>=1?n.map(function(e,t){var n="Tableau blanc cr\xe9\xe9 le ".concat(e.date," \xe0 ").concat(e.time);return r.a.createElement("div",{className:"tableItem",key:t},r.a.createElement("p",{className:"roomName"},n,r.a.createElement(y.a,{to:"/boards/?".concat(e.string)},r.a.createElement("span",{className:"link joinLink"},"Rejoindre"))))}):r.a.createElement("div",{className:"room"},"Il n'y a pas encore de rooms, cliquez sur le bouton ci-dessus pour en cr\xe9er une."),r.a.createElement("div",{className:"table"},t)}),x=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={socket:null,userData:{firstName:"Gr\xe9goire",lastName:"LeBeauGosse",uid:"gregocl",password:"333888"},boardList:[]},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=v.a.parse(window.location.search),t=(e.firstName,e.lastName,e.id,e.password,n(28)("".concat(f.prod)));m({addBoard:this.addBoardToList.bind(this),socket:t}),t.emit("getMyBoards",this.state.userData),this.setState({socket:t})}},{key:"createBoard",value:function(){this.state.socket&&this.state.socket.emit("createBoard",this.state.userData)}},{key:"addBoardToList",value:function(e){this.setState({boardList:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"startContainer"},r.a.createElement(g,{create:this.createBoard.bind(this),dashboardUrl:""}),r.a.createElement(b,{boardList:this.state.boardList}))}}]),t}(a.Component),_=function(){SVGPathElement.prototype.getPathData&&SVGPathElement.prototype.setPathData||function(){var e={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},t=function(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()},n=-1!==window.navigator.userAgent.indexOf("MSIE ");t.prototype={parseSegment:function(){var t=this._string[this._currentIndex],n=e[t]?e[t]:null;if(null===n){if(null===this._prevCommand)return null;if(null===(n=("+"===t||"-"===t||"."===t||t>="0"&&t<="9")&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;this._prevCommand=n;var a=null,r=n.toUpperCase();return"H"===r||"V"===r?a=[this._parseNumber()]:"M"===r||"L"===r||"T"===r?a=[this._parseNumber(),this._parseNumber()]:"S"===r||"Q"===r?a=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"C"===r?a=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"A"===r?a=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:"Z"===r&&(this._skipOptionalSpaces(),a=[]),null===a||a.indexOf(null)>=0?null:{type:n,values:a}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var t=this._string[this._currentIndex];return e[t]?e[t]:null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return"M"===e||"m"===e},_isCurrentSpace:function(){var e=this._string[this._currentIndex];return e<=" "&&(" "===e||"\n"===e||"\t"===e||"\r"===e||"\f"===e)},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var e=0,t=0,n=1,a=0,r=1,s=1,i=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"===this._string[this._currentIndex]?this._currentIndex+=1:this._currentIndex<this._endIndex&&"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,r=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||this._string[this._currentIndex]>"9")&&"."!==this._string[this._currentIndex])return null;for(var o=this._currentIndex;this._currentIndex<this._endIndex&&this._string[this._currentIndex]>="0"&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==o)for(var l=this._currentIndex-1,u=1;l>=o;)t+=u*(this._string[l]-"0"),l-=1,u*=10;if(this._currentIndex<this._endIndex&&"."===this._string[this._currentIndex]){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||this._string[this._currentIndex]>"9")return null;for(;this._currentIndex<this._endIndex&&this._string[this._currentIndex]>="0"&&this._string[this._currentIndex]<="9";)n*=10,a+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!==i&&this._currentIndex+1<this._endIndex&&("e"===this._string[this._currentIndex]||"E"===this._string[this._currentIndex])&&"x"!==this._string[this._currentIndex+1]&&"m"!==this._string[this._currentIndex+1]){if(this._currentIndex+=1,"+"===this._string[this._currentIndex]?this._currentIndex+=1:"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,s=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||this._string[this._currentIndex]>"9")return null;for(;this._currentIndex<this._endIndex&&this._string[this._currentIndex]>="0"&&this._string[this._currentIndex]<="9";)e*=10,e+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var c=t+a;return c*=r,e&&(c*=Math.pow(10,s*e)),i===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),c)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var e=null,t=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===t)e=0;else{if("1"!==t)return null;e=1}return this._skipOptionalSpacesOrDelimiter(),e}};var a=function(e){if(!e||0===e.length)return[];var n=new t(e),a=[];if(n.initialCommandIsMoveTo())for(;n.hasMoreData();){var r=n.parseSegment();if(null===r)break;a.push(r)}return a},r=SVGPathElement.prototype.setAttribute,s=SVGPathElement.prototype.removeAttribute,i=window.Symbol?Symbol():"__cachedPathData",o=window.Symbol?Symbol():"__cachedNormalizedPathData",l=function(e){return e.map(function(e){return{type:e.type,values:Array.prototype.slice.call(e.values)}})},u=function(e){var t=[],n=null,a=null,r=null,s=null,i=null,o=null,l=null;return e.forEach(function(e){if("M"===e.type){var u=e.values[0],c=e.values[1];t.push({type:"M",values:[u,c]}),o=u,l=c,s=u,i=c}else if("C"===e.type){var d=e.values[0],h=e.values[1],p=e.values[2],v=e.values[3];u=e.values[4],c=e.values[5],t.push({type:"C",values:[d,h,p,v,u,c]}),a=p,r=v,s=u,i=c}else if("L"===e.type)u=e.values[0],c=e.values[1],t.push({type:"L",values:[u,c]}),s=u,i=c;else if("H"===e.type)u=e.values[0],t.push({type:"L",values:[u,i]}),s=u;else if("V"===e.type)c=e.values[0],t.push({type:"L",values:[s,c]}),i=c;else if("S"===e.type){var m,f;p=e.values[0],v=e.values[1],u=e.values[2],c=e.values[3],"C"===n||"S"===n?(m=s+(s-a),f=i+(i-r)):(m=s,f=i),t.push({type:"C",values:[m,f,p,v,u,c]}),a=p,r=v,s=u,i=c}else if("T"===e.type){u=e.values[0],c=e.values[1],"Q"===n||"T"===n?(d=s+(s-a),h=i+(i-r)):(d=s,h=i),m=s+2*(d-s)/3,f=i+2*(h-i)/3;var g=u+2*(d-u)/3,y=c+2*(h-c)/3;t.push({type:"C",values:[m,f,g,y,u,c]}),a=d,r=h,s=u,i=c}else if("Q"===e.type)d=e.values[0],h=e.values[1],u=e.values[2],c=e.values[3],m=s+2*(d-s)/3,f=i+2*(h-i)/3,g=u+2*(d-u)/3,y=c+2*(h-c)/3,t.push({type:"C",values:[m,f,g,y,u,c]}),a=d,r=h,s=u,i=c;else if("A"===e.type){var b=Math.abs(e.values[0]),x=Math.abs(e.values[1]),_=e.values[2],E=e.values[3],I=e.values[4];u=e.values[5],c=e.values[6],0===b||0===x?(t.push({type:"C",values:[s,i,u,c,u,c]}),s=u,i=c):s===u&&i===c||(function e(t,n,a,r,s,i,o,l,u,c){var d,h,p,v,m,f=function(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}},g=(d=o,Math.PI*d/180),y=[];if(c)h=c[0],p=c[1],v=c[2],m=c[3];else{var b=f(t,n,-g);t=b.x,n=b.y;var x=f(a,r,-g),_=(t-(a=x.x))/2,E=(n-(r=x.y))/2,I=_*_/(s*s)+E*E/(i*i);I>1&&(s*=I=Math.sqrt(I),i*=I);var w=s*s,k=i*i,S=w*k-w*E*E-k*_*_,C=w*E*E+k*_*_,M=(l===u?-1:1)*Math.sqrt(Math.abs(S/C));v=M*s*E/i+(t+a)/2,m=M*-i*_/s+(n+r)/2,h=Math.asin(parseFloat(((n-m)/i).toFixed(9))),p=Math.asin(parseFloat(((r-m)/i).toFixed(9))),t<v&&(h=Math.PI-h),a<v&&(p=Math.PI-p),h<0&&(h=2*Math.PI+h),p<0&&(p=2*Math.PI+p),u&&h>p&&(h-=2*Math.PI),!u&&p>h&&(p-=2*Math.PI)}var A=p-h;if(Math.abs(A)>120*Math.PI/180){var N=p,V=a,D=r;p=u&&p>h?h+120*Math.PI/180*1:h+120*Math.PI/180*-1,y=e(a=v+s*Math.cos(p),r=m+i*Math.sin(p),V,D,s,i,o,0,u,[p,N,v,m])}A=p-h;var O=Math.cos(h),T=Math.sin(h),L=Math.cos(p),P=Math.sin(p),B=Math.tan(A/4),z=4/3*s*B,R=4/3*i*B,F=[t,n],j=[t+z*T,n-R*O],G=[a+z*P,r-R*L],H=[a,r];if(j[0]=2*F[0]-j[0],j[1]=2*F[1]-j[1],c)return[j,G,H].concat(y);y=[j,G,H].concat(y);for(var U=[],q=0;q<y.length;q+=3){s=f(y[q][0],y[q][1],g),i=f(y[q+1][0],y[q+1][1],g);var Z=f(y[q+2][0],y[q+2][1],g);U.push([s.x,s.y,i.x,i.y,Z.x,Z.y])}return U}(s,i,u,c,b,x,_,E,I).forEach(function(e){t.push({type:"C",values:e})}),s=u,i=c)}else"Z"===e.type&&(t.push(e),s=o,i=l);n=e.type}),t};SVGPathElement.prototype.setAttribute=function(e,t){"d"===e&&(this[i]=null,this[o]=null),r.call(this,e,t)},SVGPathElement.prototype.removeAttribute=function(e,t){"d"===e&&(this[i]=null,this[o]=null),s.call(this,e)},SVGPathElement.prototype.getPathData=function(e){if(e&&e.normalize){if(this[o])return l(this[o]);var t;this[i]?t=l(this[i]):(t=a(this.getAttribute("d")||""),this[i]=l(t));var n=u(function(e){var t=[],n=null,a=null,r=null,s=null;return e.forEach(function(e){var i=e.type;if("M"===i){var o=e.values[0],l=e.values[1];t.push({type:"M",values:[o,l]}),r=o,s=l,n=o,a=l}else if("m"===i)o=n+e.values[0],l=a+e.values[1],t.push({type:"M",values:[o,l]}),r=o,s=l,n=o,a=l;else if("L"===i)o=e.values[0],l=e.values[1],t.push({type:"L",values:[o,l]}),n=o,a=l;else if("l"===i)o=n+e.values[0],l=a+e.values[1],t.push({type:"L",values:[o,l]}),n=o,a=l;else if("C"===i){var u=e.values[0],c=e.values[1],d=e.values[2],h=e.values[3];o=e.values[4],l=e.values[5],t.push({type:"C",values:[u,c,d,h,o,l]}),n=o,a=l}else"c"===i?(u=n+e.values[0],c=a+e.values[1],d=n+e.values[2],h=a+e.values[3],o=n+e.values[4],l=a+e.values[5],t.push({type:"C",values:[u,c,d,h,o,l]}),n=o,a=l):"Q"===i?(u=e.values[0],c=e.values[1],o=e.values[2],l=e.values[3],t.push({type:"Q",values:[u,c,o,l]}),n=o,a=l):"q"===i?(u=n+e.values[0],c=a+e.values[1],o=n+e.values[2],l=a+e.values[3],t.push({type:"Q",values:[u,c,o,l]}),n=o,a=l):"A"===i?(o=e.values[5],l=e.values[6],t.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],o,l]}),n=o,a=l):"a"===i?(o=n+e.values[5],l=a+e.values[6],t.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],o,l]}),n=o,a=l):"H"===i?(o=e.values[0],t.push({type:"H",values:[o]}),n=o):"h"===i?(o=n+e.values[0],t.push({type:"H",values:[o]}),n=o):"V"===i?(l=e.values[0],t.push({type:"V",values:[l]}),a=l):"v"===i?(l=a+e.values[0],t.push({type:"V",values:[l]}),a=l):"S"===i?(d=e.values[0],h=e.values[1],o=e.values[2],l=e.values[3],t.push({type:"S",values:[d,h,o,l]}),n=o,a=l):"s"===i?(d=n+e.values[0],h=a+e.values[1],o=n+e.values[2],l=a+e.values[3],t.push({type:"S",values:[d,h,o,l]}),n=o,a=l):"T"===i?(o=e.values[0],l=e.values[1],t.push({type:"T",values:[o,l]}),n=o,a=l):"t"===i?(o=n+e.values[0],l=a+e.values[1],t.push({type:"T",values:[o,l]}),n=o,a=l):"Z"!==i&&"z"!==i||(t.push({type:"Z",values:[]}),n=r,a=s)}),t}(t));return this[o]=l(n),n}return this[i]?l(this[i]):(t=a(this.getAttribute("d")||""),this[i]=l(t),t)},SVGPathElement.prototype.setPathData=function(e){if(0===e.length)n?this.setAttribute("d",""):this.removeAttribute("d");else{for(var t="",a=0,r=e.length;a<r;a+=1){var s=e[a];a>0&&(t+=" "),t+=s.type,s.values&&s.values.length>0&&(t+=" "+s.values.join(" "))}this.setAttribute("d",t)}},SVGRectElement.prototype.getPathData=function(e){var t=this.x.baseVal.value,n=this.y.baseVal.value,a=this.width.baseVal.value,r=this.height.baseVal.value,s=this.hasAttribute("rx")?this.rx.baseVal.value:this.ry.baseVal.value,i=this.hasAttribute("ry")?this.ry.baseVal.value:this.rx.baseVal.value;s>a/2&&(s=a/2),i>r/2&&(i=r/2);var o=[{type:"M",values:[t+s,n]},{type:"H",values:[t+a-s]},{type:"A",values:[s,i,0,0,1,t+a,n+i]},{type:"V",values:[n+r-i]},{type:"A",values:[s,i,0,0,1,t+a-s,n+r]},{type:"H",values:[t+s]},{type:"A",values:[s,i,0,0,1,t,n+r-i]},{type:"V",values:[n+i]},{type:"A",values:[s,i,0,0,1,t+s,n]},{type:"Z",values:[]}];return o=o.filter(function(e){return"A"!==e.type||0!==e.values[0]&&0!==e.values[1]}),e&&!0===e.normalize&&(o=u(o)),o},SVGCircleElement.prototype.getPathData=function(e){var t=this.cx.baseVal.value,n=this.cy.baseVal.value,a=this.r.baseVal.value,r=[{type:"M",values:[t+a,n]},{type:"A",values:[a,a,0,0,1,t,n+a]},{type:"A",values:[a,a,0,0,1,t-a,n]},{type:"A",values:[a,a,0,0,1,t,n-a]},{type:"A",values:[a,a,0,0,1,t+a,n]},{type:"Z",values:[]}];return e&&!0===e.normalize&&(r=u(r)),r},SVGEllipseElement.prototype.getPathData=function(e){var t=this.cx.baseVal.value,n=this.cy.baseVal.value,a=this.rx.baseVal.value,r=this.ry.baseVal.value,s=[{type:"M",values:[t+a,n]},{type:"A",values:[a,r,0,0,1,t,n+r]},{type:"A",values:[a,r,0,0,1,t-a,n]},{type:"A",values:[a,r,0,0,1,t,n-r]},{type:"A",values:[a,r,0,0,1,t+a,n]},{type:"Z",values:[]}];return e&&!0===e.normalize&&(s=u(s)),s},SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},SVGPolylineElement.prototype.getPathData=function(){for(var e=[],t=0;t<this.points.numberOfItems;t+=1){var n=this.points.getItem(t);e.push({type:0===t?"M":"L",values:[n.x,n.y]})}return e},SVGPolygonElement.prototype.getPathData=function(){for(var e=[],t=0;t<this.points.numberOfItems;t+=1){var n=this.points.getItem(t);e.push({type:0===t?"M":"L",values:[n.x,n.y]})}return e.push({type:"Z",values:[]}),e}}()},E=function(e){!function(){var t="",n=performance.now();function a(e,n){this.type="child",this.parent=t,this.x=e,this.y=n}function r(r,s,i){""!==t&&performance.now()-n>70&&(e.drawAndSend(new a(r,s)),n=performance.now()),i&&i.preventDefault()}var s={};function i(e,t,n,a){return Math.hypot(n-e,a-t)}var o={},l=e.svg;function u(t){var n=l.getElementById(t.id)||e.createSVGElement("path");return n.id=t.id,n.setAttribute("stroke",t.color||"black"),n.setAttribute("stroke-width",t.size||10),n.setAttribute("opacity",Math.max(.1,Math.min(1,t.opacity))||1),l.appendChild(n),n}e.add({name:"Pencil",listeners:{press:function(n,a,s){s.preventDefault(),t=e.generateUID("l"),e.drawAndSend({type:"line",id:t,color:e.getColor(),size:e.getSize(),opacity:e.getOpacity()}),r(n,a)},move:r,release:function(e,n){r(e,n),t=""}},draw:function(e){switch(e.type){case"line":s=u(e);break;case"child":var t=s.id===e.parent?s:l.getElementById(e.parent);t||(console.error("Pencil: Hmmm... I received a point of a line that has not been created (%s).",e.parent),t=s=u({id:e.parent})),function(e,t,n){var a=function(e){var t=o[e.id];return t||(t=e.getPathData(),o[e.id]=t),t}(e),r=a.length;switch(r){case 0:var s={type:"M",values:[t,n]};break;case 1:s={type:"C",values:[a[0].values[0],a[0].values[1],t,n,t,n]};break;default:var l=a[r-1].values,u=a[r-2].values,c=l[l.length-2],d=l[l.length-1],h=u[u.length-2],p=u[u.length-1];if(c===t&&d===n||h===t&&p===n)return;var v=t-h,m=n-p,f=Math.hypot(v,m),g=i(h,p,c,d)/f,y=i(t,n,c,d)/f,b=c-g*(v/=3),x=d-g*(m/=3),_=c+y*v,E=d+y*m;l[2]=b,l[3]=x,s={type:"C",values:[_,E,t,n,t,n]}}a.push(s),e.setPathData(a)}(t,e.x,e.y);break;case"endline":break;default:console.error("Pencil: Draw instruction with unknown type. ",e)}}})}(),function(){var t="",n=performance.now();function a(e,n){this.type="update",this.id=t,this.x2=e,this.y2=n}function r(r,i,o){""!==t&&(performance.now()-n>70?(e.drawAndSend(new a(r,i)),n=performance.now()):s(new a(r,i))),o&&o.preventDefault()}function s(e){switch(e.type){case"straight":o(e);break;case"update":var t=i.getElementById(e.id);t||(console.error("Straight line: Hmmm... I received a point of a line that has not been created (%s).",e.id),o({id:e.id,x:e.x2,y:e.y2})),function(e,t){e.x2.baseVal.value=t.x2,e.y2.baseVal.value=t.y2}(t,e);break;default:console.error("Straight Line: Draw instruction with unknown type. ",e)}}var i=e.svg;function o(t){var n=i.getElementById(t.id)||e.createSVGElement("line");return n.id=t.id,n.x1.baseVal.value=t.x,n.y1.baseVal.value=t.y,n.x2.baseVal.value=t.x2||t.x,n.y2.baseVal.value=t.y2||t.y,n.setAttribute("stroke",t.color||"black"),n.setAttribute("stroke-width",t.size||10),n.setAttribute("opacity",Math.max(.1,Math.min(1,t.opacity))||1),i.appendChild(n),n}e.add({name:"Straight line",listeners:{press:function(n,a,r){r.preventDefault(),t=e.generateUID("s"),e.drawAndSend({type:"straight",id:t,color:e.getColor(),size:e.getSize(),opacity:e.getOpacity(),x:n,y:a})},move:r,release:function(e,n){r(e,n),t=""}},draw:s})}(),function(){var t="",n={type:"update",id:"",x:0,y:0,x2:0,y2:0},a=performance.now();function r(r,i,o){""!==t&&(n.x2=r,n.y2=i,performance.now()-a>70?(e.drawAndSend(n),a=performance.now()):s(n)),o&&o.preventDefault()}function s(e){switch(e.type){case"rect":o(e);break;case"update":var t=i.getElementById(e.id);t||(console.error("Straight shape: Hmmm... I received a point of a rect that has not been created (%s).",e.id),o({id:e.id,x:e.x2,y:e.y2})),l(t,e);break;default:console.error("Straight shape: Draw instruction with unknown type. ",e)}}var i=e.svg;function o(t){var n=i.getElementById(t.id)||e.createSVGElement("rect");return n.id=t.id,l(n,t),n.setAttribute("stroke",t.color||"black"),n.setAttribute("stroke-width",t.size||10),n.setAttribute("opacity",Math.max(.1,Math.min(1,t.opacity))||1),i.appendChild(n),n}function l(e,t){e.x.baseVal.value=Math.min(t.x2,t.x),e.y.baseVal.value=Math.min(t.y2,t.y),e.width.baseVal.value=Math.abs(t.x2-t.x),e.height.baseVal.value=Math.abs(t.y2-t.y)}e.add({name:"Rectangle",listeners:{press:function(a,r,s){s.preventDefault(),t=e.generateUID("r"),e.drawAndSend({type:"rect",id:t,color:e.getColor(),size:e.getSize(),opacity:e.getOpacity(),x:a,y:r,x2:a,y2:r}),n.id=t,n.x=a,n.y=r},move:r,release:function(e,n){r(e,n),t=""}},draw:s})}(),function(){var t=!1,n={type:"delete",id:""};function a(a,r,s){var i=s.target;if("touchmove"===s.type){var o=s.touches[0];i=document.elementFromPoint(o.clientX,o.clientY)}t&&i!==e.svg&&(n.id=i.id,e.drawAndSend(n))}var r=e.svg;e.add({name:"Eraser",listeners:{press:function(e,n,r){r.preventDefault(),t=!0,a(0,0,r)},move:a,release:function(){t=!1}},draw:function(e){var t;switch(e.type){case"delete":null===(t=r.getElementById(e.id))?console.error("Eraser: Tried to delete an element that does not exist."):r.removeChild(t);break;default:console.error("Eraser: 'delete' instruction with unknown type. ",e)}}})}(),function(){var t=e.board,n=e.svg,a=document.createElement("input");a.id="textToolInput",a.setAttribute("autocomplete","off");var r={x:0,y:0,size:0,opacity:1,color:"#000",id:0,sentText:"",lastSending:0};function s(){a.blur(),a.removeEventListener("keyup",o),r.id=e.generateUID("t"),e.drawAndSend({type:"new",id:r.id,color:r.color,size:r.size,opacity:r.opacity,x:r.x,y:r.y}),i()}function i(){a.parentNode||t.appendChild(a),a.value="",a.focus(),a.addEventListener("keyup",o),a.addEventListener("blur",o)}function o(t){if(13===t.which)return r.y+=1.5*r.size,s();performance.now()-r.lastSending>100?r.sentText!==a.value&&(e.drawAndSend({type:"update",id:r.id,txt:a.value.slice(0,280)}),r.sentText=a.value,r.lastSending=performance.now()):(clearTimeout(r.timeout),r.timeout=setTimeout(o,500,t))}e.add({name:"Text",listeners:{press:function(t,n,o){if(o.target!==a){if("text"===o.target.tagName)return l=o.target,r.id=l.id,r.x=l.x.baseVal[0].value,r.y=l.y.baseVal[0].value,r.size=parseInt(l.getAttribute("font-size")),r.opacity=parseFloat(l.getAttribute("opacity")),r.color=l.getAttribute("fill"),i(),a.value=l.textContent,void o.preventDefault();var l;r.size=parseInt(1.5*e.getSize()+12),r.opacity=e.getOpacity(),r.color=e.getColor(),r.x=t,r.y=n+r.size/2,s(),o.preventDefault()}}},draw:function(t,a){switch(t.type){case"new":!function(t){var a=e.createSVGElement("text");a.id=t.id,a.setAttribute("x",t.x),a.setAttribute("y",t.y),a.setAttribute("font-size",t.size),a.setAttribute("fill",t.color),a.setAttribute("opacity",Math.max(.1,Math.min(1,t.opacity))||1),t.txt&&(a.textContent=t.txt),n.appendChild(a)}(t);break;case"update":var r=document.getElementById(t.id);if(null===r)return console.error("Text: Hmmm... I received text that belongs to an unknown text field"),!1;!function(e,t){e.textContent=t}(r,t.txt);break;default:console.error("Text: Draw instruction with unknown type. ",t)}}})}()},I=function(e,t){_();var n={};n.board=document.getElementById("board"),n.svg=document.getElementById("canvas"),n.socket=e,n.curTool=null,n.boardName=t,n.setScale=function(e){return isNaN(e)&&(e=1),e=Math.max(.1,Math.min(10,e)),n.svg.style.willChange="transform",n.svg.style.transform="scale("+e+")",n.scale=e,e},n.list={},n.add=function(e){e.name,n.list;var t=document.getElementById(e.name);t&&t.addEventListener("click",function(){n.change(t.id)}),n.applyHooks(n.toolHooks,e),n.list[e.name]=e;var a=n.pendingMessages[e.name];if(a)for(var r;r=a.shift();)e.draw(r,!1)},n.change=function(e){n.list;var t=n.list[e];if(null!=n.curTool){if(t===n.curTool)return;for(var a in n.curTool.compiledListeners){var r=n.curTool.compiledListeners[a];n.board.removeEventListener(a,r)}n.curTool.onquit(t)}for(a in t.compiledListeners)r=t.compiledListeners[a],n.board.addEventListener(a,r,{passive:!1});t.onstart(n.curTool),n.curTool=t},n.send=function(e,t){t=t||n.curTool.name;var a=e;a.tool=t,n.applyHooks(n.messageHooks,a);var r={board:n.boardName,data:a};n.socket.emit("broadcast",r)},n.drawAndSend=function(e){n.curTool.draw(e,!0),n.send(e)},n.pendingMessages={},n.socket.on("broadcast",function e(t){t.tool&&function(e){var t=e.tool,a=n.list[t];a?(n.applyHooks(n.messageHooks,e),a.draw(e,!1)):n.pendingMessages[t]?n.pendingMessages[t].push(e):n.pendingMessages[t]=[e]}(t),t._children&&function e(t,n){if(n.length>0){for(var a=n.slice(0,1024),r=n.slice(1024),s=0;s<a.length;s++)t(a[s]);requestAnimationFrame(e.bind(null,t,r))}}(e,t._children),t.tool||t._children||console.error("Received a badly formatted message (no tool). ",t)}),n.messageHooks=[],n.getScale=function(){return n.scale},n.toolHooks=[function(e){if("string"!==typeof e.name)throw"A tool must have a name";"object"!==typeof e.listeners&&(e.listeners={}),"function"!==typeof e.onstart&&(e.onstart=function(){}),"function"!==typeof e.onquit&&(e.onquit=function(){})},function(e){var t=e.listeners,a=e.compiledListeners||{};function r(e){var t=document.getElementById("boardContainer").offsetLeft,a=document.getElementById("boardContainer").offsetTop;return function(r){var s=(r.pageX-t)/n.getScale(),i=(r.pageY-a)/n.getScale();return e(s,i,r,!1)}}function s(e){var t=document.getElementById("boardContainer").offsetLeft,a=document.getElementById("boardContainer").offsetTop;return function(r){if(1===r.changedTouches.length){var s=r.changedTouches[0],i=(s.pageX-t)/n.getScale(),o=(s.pageY-a)/n.getScale();return e(i,o,r,!0)}return!0}}if(e.compiledListeners=a,t.press&&(a.mousedown=r(t.press),a.touchstart=s(t.press)),t.move&&(a.mousemove=r(t.move),a.touchmove=s(t.move)),t.release){var i=r(t.release),o=s(t.release);a.mouseup=i,a.mouseleave=i,a.touchleave=o,a.touchend=o,a.touchcancel=o}}],n.applyHooks=function(e,t){e.forEach(function(e){e(t)})},n.generateUID=function(e,t){var n=Date.now().toString(36);return n+=Math.round(36*Math.random()).toString(36),e&&(n=e+n),t&&(n+=t),n},n.createSVGElement=function(e){return document.createElementNS(n.svg.namespaceURI,e)},n.positionElement=function(e,t,n){e.style.top=n+"px",e.style.left=t+"px"},n.getColor=function(){var e=document.getElementById("chooseColor"),t=["#001f3f","#0074D9","#7FDBFF","#39CCCC","#3D9970","#2ECC40","#01FF70","#FFDC00","#FF851B","#FF4136","#85144b","#F012BE","#B10DC9","#111111","#AAAAAA"];return e.value=t[Math.random()*t.length|0],function(){return e.value}}(),n.getSize=function(){var e=document.getElementById("chooseSize");function t(){(e.value<1||e.value>50)&&(e.value=3)}return t(),e.onchange=t,function(){return e.value}}(),n.getOpacity=function(){var e=document.getElementById("chooseOpacity");return function(){return Math.max(.1,Math.min(1,e.value))}}();var a=function(){var e,t=document.getElementById("boardContainer"),a=t.clientWidth,r=t.clientHeight;e=r>=3e3&&a>=4800?1:r/a<=.625?r/3e3:a/4800,n.svg.width.baseVal.value=4800,n.svg.height.baseVal.value=3e3,n.setScale(e),n.svg.style.top="-".concat(.5*(1-e)*3e3),n.svg.style.left="-".concat(.5*(1-e)*4800)};window.addEventListener("resize",a),a(),n.socket.emit("getboard",n.boardName),window.performance&&window.performance.now||(window.performance={now:Date.now}),Math.hypot||(Math.hypot=function(e,t){return Math.sqrt(e*e+t*t)}),E(n)},w=(n(125),function(e,t,n){console.log(n.iceServers);var a=document.getElementById("localVideo"),r=document.getElementById("remoteVideo"),s=t,i=!1,o={},l=!1,u=!1,c={iceServers:[{url:"stun:stun.l.google.com:19302"},{url:"turn:192.158.29.39:3478?transport=udp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"},{url:"turn:192.158.29.39:3478?transport=tcp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"}]},d=function(){console.log("trying video"),window.navigator.getUserMedia({audio:!0,video:!0},function(e){i=e,a.srcObject=e,h()},function(e){console.error("You are not allow navigator use device",e)})},h=function(){var t=function(e){console.log("got remote stream"),r.srcObject!==e.streams[0]&&(r.srcObject=e.streams[0])},n=function(t){console.log("handling local candidate"),t.candidate&&(console.log("send ice candidate"),e.emit("CANDIDATE_WEB_RTC",{candidate:t.candidate}))};console.log("setting up connection"),(o=new RTCPeerConnection(c)).addStream(i),o.addEventListener("track",t),o.onicecandidate=n,s&&setTimeout(e.emit("RTC_PEER_READY"),5e3),e.on("RTC_PEER_READY",function(){console.log("peer ready"),o.createOffer(function(t){u||(o.setLocalDescription(t),u=!0,console.log("send desc"),e.emit("OFFER_WEB_RTC",JSON.stringify(t)))},function(e){console.error(e)})}),e.on("CANDIDATE_WEB_RTC",function(e){console.log("handling remote candidate"),e.candidate&&o.addIceCandidate(new RTCIceCandidate(e.candidate)).then(function(){console.log("AddIceCandidate success!")}).catch(function(e){console.error("Error AddIceCandidate"),console.error(e)})}),e.on("OFFER_WEB_RTC",function(t){if(!l){console.log("handling offer");var n=JSON.parse(t);o.setRemoteDescription(new RTCSessionDescription(n)).then(function(){l=!0,o.createAnswer(function(t){o.setLocalDescription(t),u=!0,e.emit("RESPONSE_WEB_RTC",t)},function(e){console.log(e)})}).catch(function(e){return console.log(e)})}}),e.on("RESPONSE_WEB_RTC",function(e){console.log("got response"),l||(o.setRemoteDescription(new RTCSessionDescription(e)),l=!0)})};e.on("PEER_DISCONNECTED",function(){console.log("peer disconnected"),s=!1,l=!1,u=!1,r.srcObject=null,o!=={}&&o.close(),o={},!1!==i?h():d()}),d()}),k=(n(94),function(e){var t=[{id:"Pencil",name:"pencil"},{id:"Rectangle",name:"rect"},{id:"Straight line",name:"line"},{id:"Text",name:"text"},{id:"Eraser",name:"erase"}].map(function(e){var t=n(96)("./".concat(e.name,".svg"));return r.a.createElement("img",{key:e.name,src:t,alt:e.name,id:e.id})});return r.a.createElement("div",{className:"toolsContainer"},t,r.a.createElement("span",{className:"form-group"},"Colour :",r.a.createElement("br",null),r.a.createElement("input",{id:"chooseColor",type:"color",defaultValue:"#345678"})),r.a.createElement("label",{htmlFor:"chooseSize","data-translation":"waiting"},"Size"),r.a.createElement("input",{type:"range",id:"chooseSize",defaultValue:"10",min:"1",max:"50",step:"1",className:"rangeChooser"}),r.a.createElement("label",{htmlFor:"chooseOpacity","data-translation":"waiting"},"Opacity"),r.a.createElement("input",{type:"range",id:"chooseOpacity",defaultValue:"1",min:"0.2",max:"1",step:"0.1",className:"rangeChooser"}))}),S=(n(106),function(e){var t=[{link:"invite",name:"Inviter",click:e.openModal},{link:"download",name:"T\xe9l\xe9charger"},{link:"file",name:"Fichier"},{link:"info",name:"Aide"},{link:"microphone",name:"Micro On"},{link:"camera",name:"Vid\xe9o On"}].map(function(e){var t=n(108)("./".concat(e.link,".svg"));return e.click?r.a.createElement("li",{onClick:e.click,key:e.link,className:"control",id:e.link},r.a.createElement("img",{src:t,alt:e.link}),r.a.createElement("span",{className:"toolText"},e.name)):r.a.createElement("li",{key:e.link,className:"control",id:e.link},r.a.createElement("img",{src:t,alt:e.link}),r.a.createElement("span",{className:"toolText"},e.name))});return r.a.createElement("div",{className:"controlsContainer"},r.a.createElement("ul",{id:"controls"},t),r.a.createElement("video",{autoPlay:!0,id:"remoteVideo"}),r.a.createElement("video",{autoPlay:!0,muted:!0,id:"localVideo"}))}),C=(n(115),function(e){var t=r.a.createElement("div",{className:"modal"},r.a.createElement("p",{className:"inputTitle"},"Saisissez l'adresse email de l'\xe9l\xe8ve que vous souhaitez inviter"),r.a.createElement("p",null,r.a.createElement("input",{type:"text",onChange:e.inputChanged})),e.valid?null:r.a.createElement("p",{className:"unvalidEmail"},"L'adresse email n'est pas valide"),r.a.createElement("p",{id:"unvalid"},r.a.createElement("button",{className:"btn",id:"confirm",onClick:e.sendInvite},"Inviter"),r.a.createElement("button",{className:"btn cancel ",id:"cancel",onClick:e.closeModal},"Annuler")));return e.show?t:null}),M=(n(117),function(e){var t=r.a.createElement("div",{className:"backdrop",onClick:e.click});return e.show?t:null}),A=(n(119),function(e){return r.a.createElement("div",{id:"board"},r.a.createElement("svg",{id:"canvas",width:e.width,height:e.height,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("defs",{id:"defs"})))}),N=(n(121),function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={loaded:!0,boardId:null,pin:null,socket:null,guest:null,modal:!1,initiator:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=v.a.parse(window.location.search),a=t.id,r=t.pin,s=n(28)("".concat(f.prod,"boards"));s&&a&&(s.on("joinSuccess",function(t){console.log("joinSuccess"),e.setState({boardId:a,pin:r,loaded:!0,socket:s}),I(s,e.state.boardId),w(s,t.boardReady,t.iceServers)}),s.on("joinFail",function(e){alert(e)}),console.log("sending join request"),s.emit("join",{id:a,pin:r}))}},{key:"componentDidUpdate",value:function(){var e=this;if(this.state.loaded&&this.state.socket){var t=this.state.socket;t.on("reconnect",function(){t.emit("joinboard",{room:e.state.boardId,pin:e.state.pin})})}}},{key:"sendInvite",value:function(){var e=this.state.guest;console.log(e);var t=this.state.socket;e&&t?(t.emit("inviteGuest",{email:e}),t.on("inviteRes",function(e){console.log("email response:",e)})):alert("Il y a eu une erreur, merci de r\xe9essayer"),this.setState({modal:!1})}},{key:"guestInputChanged",value:function(e){var t=e.target.value;this.setState({guest:t})}},{key:"toggleModal",value:function(){var e=this.state.modal;this.setState({modal:!e})}},{key:"render",value:function(){var e=null;return document.getElementById("boardContainer")&&(e=r.a.createElement(A,{width:"1",height:"1"})),r.a.createElement("div",{className:"globalContainer",id:"globalContainer"},r.a.createElement(M,{click:this.toggleModal.bind(this),show:this.state.modal}),r.a.createElement(C,{show:this.state.modal,inputChanged:this.guestInputChanged.bind(this),inputValue:this.state.guest,closeModal:this.toggleModal.bind(this),sendInvite:this.sendInvite.bind(this),valid:this.state.validEmail}),r.a.createElement(k,null),r.a.createElement("div",{id:"boardContainer"},e),r.a.createElement(S,{teacher:this.teacher,student:this.student,openModal:this.toggleModal.bind(this)}))}}]),t}(a.Component)),V=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h.a,{path:"/",exact:!0,component:x}),r.a.createElement(h.a,{path:"/boards/",component:N}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=n(127),O=r.a.createElement(D.a,null,r.a.createElement(V,null));i.a.render(O,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}]),[[44,2,1]]]);
//# sourceMappingURL=main.d241f7ae.chunk.js.map